// Bun Snapshot v1, https://goo.gl/fbAQLP

exports[`Integration: Full pipeline should generate complete TypeScript types from database 1`] = `
"import type { ColumnType } from 'kysely';

export type Generated<T> = T extends ColumnType<infer S, infer I, infer U>
  ? ColumnType<S, I | undefined, U>
  : ColumnType<T, T | undefined, T>;

export type ArrayType<T> = ArrayTypeImpl<T> extends (infer U)[]
  ? U[]
  : ArrayTypeImpl<T>;

export type ArrayTypeImpl<T> = T extends ColumnType<infer S, infer I, infer U>
  ? ColumnType<S[], I[], U[]>
  : T[];

export type JsonPrimitive = string | number | boolean | null;

export type JsonArray = JsonValue[];

export type JsonObject = { [key: string]: JsonValue };

export type JsonValue = JsonPrimitive | JsonObject | JsonArray;

export interface IPostgresInterval {
  years?: number;
  months?: number;
  days?: number;
  hours?: number;
  minutes?: number;
  seconds?: number;
  milliseconds?: number;
}

export type StatusEnum = 'pending' | 'approved' | 'rejected';

export interface Comment {
  id: Generated<number>;
  post_id: number;
  user_id: number;
  content: string;
  status: StatusEnum;
  created_at: ColumnType<Date, Date | string, Date | string>;
}

export interface Measurement {
  id: Generated<number>;
  measure_date: ColumnType<Date, Date | string, Date | string>;
  value: ColumnType<string, number | string, number | string>;
  sensor_id: number;
}

export interface Measurements2024Q1 {
  id: Generated<number>;
  measure_date: ColumnType<Date, Date | string, Date | string>;
  value: ColumnType<string, number | string, number | string>;
  sensor_id: number;
}

export interface Measurements2024Q2 {
  id: Generated<number>;
  measure_date: ColumnType<Date, Date | string, Date | string>;
  value: ColumnType<string, number | string, number | string>;
  sensor_id: number;
}

export interface Post {
  id: Generated<number>;
  user_id: number;
  title: string;
  content: string | null;
  published_at: ColumnType<Date, Date | string, Date | string> | null;
  view_count: number;
}

export interface User {
  id: Generated<number>;
  email: string;
  username: string;
  created_at: ColumnType<Date, Date | string, Date | string>;
  updated_at: ColumnType<Date, Date | string, Date | string> | null;
  is_active: boolean;
  metadata: JsonValue | null;
  tags: string[] | null;
  scores: number[] | null;
}

export interface ActiveUser {
  id: number | null;
  email: string | null;
  username: string | null;
  created_at: ColumnType<Date, Date | string, Date | string> | null;
}

export interface UserStat {
  id: number | null;
  username: string | null;
  post_count: ColumnType<string, string | number | bigint, string | number | bigint> | null;
  comment_count: ColumnType<string, string | number | bigint, string | number | bigint> | null;
}

export interface UserTagsView {
  id: number | null;
  username: string | null;
  tags: string[] | null;
}

export interface DB {
  comments: Comment;
  measurements: Measurement;
  measurements_2024_q1: Measurements2024Q1;
  measurements_2024_q2: Measurements2024Q2;
  posts: Post;
  users: User;
  active_users: ActiveUser;
  user_stats: UserStat;
  user_tags_view: UserTagsView;
}
"
`;
