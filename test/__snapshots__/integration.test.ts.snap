// Bun Snapshot v1, https://goo.gl/fbAQLP

exports[`Integration: Full pipeline should generate complete TypeScript types from database 1`] = `
"import type { ColumnType } from 'kysely';

export type Generated<T> = T extends ColumnType<infer S, infer I, infer U>
  ? ColumnType<S, I | undefined, U>
  : ColumnType<T, T | undefined, T>;

export type ArrayType<T> = ArrayTypeImpl<T> extends (infer U)[]
  ? U[]
  : ArrayTypeImpl<T>;

export type ArrayTypeImpl<T> = T extends ColumnType<infer S, infer I, infer U>
  ? ColumnType<S[], I[], U[]>
  : T[];

export type JsonPrimitive = string | number | boolean | null;

export type JsonArray = JsonValue[];

export type JsonObject = { [key: string]: JsonValue };

export type JsonValue = JsonPrimitive | JsonObject | JsonArray;

export type StatusEnum = 'pending' | 'approved' | 'rejected';

export type Timestamp = ColumnType<Date, Date | string, Date | string>;

export type Int8 = ColumnType<string, string | number | bigint, string | number | bigint>;

export type Numeric = ColumnType<string, number | string, number | string>;

export interface Comment {
  id: Generated<number>;
  post_id: number;
  user_id: number;
  content: string;
  status: Generated<StatusEnum>;
  created_at: Generated<Timestamp>;
}

export interface Measurement {
  id: Generated<number>;
  measure_date: Timestamp;
  value: Numeric;
  sensor_id: number;
}

export interface Post {
  id: Generated<number>;
  user_id: number;
  title: string;
  content: string | null;
  published_at: Timestamp | null;
  view_count: Generated<number>;
}

export interface User {
  id: Generated<number>;
  email: string;
  username: string;
  created_at: Generated<Timestamp>;
  updated_at: Timestamp | null;
  is_active: Generated<boolean>;
  metadata: JsonValue | null;
  tags: Generated<string[] | null>;
  scores: number[] | null;
}

export interface ActiveUser {
  id: number | null;
  email: string | null;
  username: string | null;
  created_at: Timestamp | null;
}

export interface UserStat {
  id: number | null;
  username: string | null;
  post_count: Int8 | null;
  comment_count: Int8 | null;
}

export interface UserTagsView {
  id: number | null;
  username: string | null;
  tags: string[] | null;
}

export interface DB {
  comments: Comment;
  measurements: Measurement;
  posts: Post;
  users: User;
  active_users: ActiveUser;
  user_stats: UserStat;
  user_tags_view: UserTagsView;
}
"
`;
